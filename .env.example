# Global defaults consumed by Docker Compose and GitHub Actions.
# Copy to .env and override per environment.

# --- Core Spring Boot configuration ---
SERVER_PORT=8080
SPRING_PROFILES_ACTIVE=default
SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/urlaubsverwaltung
SPRING_DATASOURCE_USERNAME=urlaubsverwaltung
SPRING_DATASOURCE_PASSWORD=urlaubsverwaltung

SPRING_MAIL_HOST=mailpit
SPRING_MAIL_PORT=1025
SPRING_MAIL_USERNAME=
SPRING_MAIL_PASSWORD=
MANAGEMENT_HEALTH_MAIL_ENABLED=false

UV_MAIL_FROM=urlaubsverwaltung@example.org
UV_MAIL_FROMDISPLAYNAME=Urlaubsverwaltung
UV_MAIL_REPLYTO=no-reply@example.org
UV_MAIL_REPLYTODISPLAYNAME=Urlaubsverwaltung
UV_MAIL_APPLICATIONURL=http://localhost:8080
UV_CALENDAR_ORGANIZER=organizer@example.org

# --- Database (docker compose) ---
POSTGRES_DB=urlaubsverwaltung
POSTGRES_USER=urlaubsverwaltung
POSTGRES_PASSWORD=urlaubsverwaltung

# --- Mailpit (docker compose) ---
MAILPIT_DASHBOARD_PORT=8025
MAILPIT_SMTP_PORT=1025

# --- Optional OpenID Connect (docker-compose.oidc.yml) ---
SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_DEFAULT_CLIENT_ID=urlaubsverwaltung
SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_DEFAULT_CLIENT_SECRET=urlaubsverwaltung-secret
SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_DEFAULT_CLIENT_NAME=urlaubsverwaltung
SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_DEFAULT_SCOPE=openid,profile,email,roles
SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_DEFAULT_AUTHORIZATION_GRANT_TYPE=authorization_code
SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_DEFAULT_REDIRECT_URI=http://localhost:8080/login/oauth2/code/{registrationId}
SPRING_SECURITY_OAUTH2_CLIENT_PROVIDER_DEFAULT_ISSUER_URI=http://keycloak:8080/realms/urlaubsverwaltung
SPRING_SECURITY_OAUTH2_RESOURCESERVER_JWT_ISSUER_URI=http://keycloak:8080/realms/urlaubsverwaltung
UV_SECURITY_OIDC_CLAIM_MAPPERS_GROUP_CLAIM_ENABLED=true
UV_SECURITY_OIDC_CLAIM_MAPPERS_GROUP_CLAIM_CLAIM_NAME=groups

# --- Docker image publication ---
IMAGE_REGISTRY=docker.io
IMAGE_NAME=flex420/urlaubsverwaltung
IMAGE_TAG=dev